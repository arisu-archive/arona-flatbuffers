// Code generated by fbsgen. DO NOT EDIT.
// Package flatdata contains generated code for FlatBuffers schema
package flatdata

import (
	fbsutils "github.com/arisu-archive/bluearchive-fbs-utils"
	flatbuffers "github.com/google/flatbuffers/go"
)

// GoodsExcelDto represents a FlatBuffers table
type GoodsExcelDto struct {
	fbsutils.FlatBuffer
	ConsumeCondition             []ConsumeCondition `json:"consume_condition"`
	ConsumeExtraAmount           []int64            `json:"consume_extra_amount"`
	ConsumeExtraStep             []int64            `json:"consume_extra_step"`
	ConsumeGachaTicketType       GachaTicketType    `json:"consume_gacha_ticket_type"`
	ConsumeGachaTicketTypeAmount int64              `json:"consume_gacha_ticket_type_amount"`
	ConsumeParcelAmount          []int64            `json:"consume_parcel_amount"`
	ConsumeParcelId              []int64            `json:"consume_parcel_id"`
	ConsumeParcelType            []ParcelType       `json:"consume_parcel_type"`
	IconPath                     string             `json:"icon_path"`
	Id                           int64              `json:"id"`
	ParcelAmount                 []int64            `json:"parcel_amount"`
	ParcelId                     []int64            `json:"parcel_id"`
	ParcelType                   []ParcelType       `json:"parcel_type"`
	ProductIdAos                 int64              `json:"product_id_aos"`
	ProductIdiOs                 int64              `json:"product_idi_os"`
	ProductIdOne                 int64              `json:"product_id_one"`
	ProductIdSgs                 int64              `json:"product_id_sgs"`
	Rarity                       Rarity             `json:"rarity"`
	State                        int32              `json:"state"`
	Type                         int32              `json:"type"`
}

// MarshalModel marshals the struct into flatbuffers offset
func (t *GoodsExcelDto) MarshalModel(b *flatbuffers.Builder) flatbuffers.UOffsetT {
	if t.FlatBuffer.TableKey == nil {
		t.FlatBuffer.InitKey(fbsutils.CreateTableKey("Goods"))
	}
	GoodsExcelStart(b)
	GoodsExcelStartConsumeConditionVector(b, len(t.ConsumeCondition))
	for i := range len(t.ConsumeCondition) {
		b.PrependInt32(fbsutils.Convert(int32(fbsutils.Convert(t.ConsumeCondition[len(t.ConsumeCondition)-i-1], t.FlatBuffer.TableKey)), t.FlatBuffer.TableKey))
	}
	GoodsExcelAddConsumeCondition(b, b.EndVector(len(t.ConsumeCondition)))
	GoodsExcelStartConsumeExtraAmountVector(b, len(t.ConsumeExtraAmount))
	for i := range len(t.ConsumeExtraAmount) {
		b.PrependInt64(fbsutils.Convert(t.ConsumeExtraAmount[len(t.ConsumeExtraAmount)-i-1], t.FlatBuffer.TableKey))
	}
	GoodsExcelAddConsumeExtraAmount(b, b.EndVector(len(t.ConsumeExtraAmount)))
	GoodsExcelStartConsumeExtraStepVector(b, len(t.ConsumeExtraStep))
	for i := range len(t.ConsumeExtraStep) {
		b.PrependInt64(fbsutils.Convert(t.ConsumeExtraStep[len(t.ConsumeExtraStep)-i-1], t.FlatBuffer.TableKey))
	}
	GoodsExcelAddConsumeExtraStep(b, b.EndVector(len(t.ConsumeExtraStep)))
	GoodsExcelAddConsumeGachaTicketType(b, fbsutils.Convert(t.ConsumeGachaTicketType, t.FlatBuffer.TableKey))
	GoodsExcelAddConsumeGachaTicketTypeAmount(b, fbsutils.Convert(t.ConsumeGachaTicketTypeAmount, t.FlatBuffer.TableKey))
	GoodsExcelStartConsumeParcelAmountVector(b, len(t.ConsumeParcelAmount))
	for i := range len(t.ConsumeParcelAmount) {
		b.PrependInt64(fbsutils.Convert(t.ConsumeParcelAmount[len(t.ConsumeParcelAmount)-i-1], t.FlatBuffer.TableKey))
	}
	GoodsExcelAddConsumeParcelAmount(b, b.EndVector(len(t.ConsumeParcelAmount)))
	GoodsExcelStartConsumeParcelIdVector(b, len(t.ConsumeParcelId))
	for i := range len(t.ConsumeParcelId) {
		b.PrependInt64(fbsutils.Convert(t.ConsumeParcelId[len(t.ConsumeParcelId)-i-1], t.FlatBuffer.TableKey))
	}
	GoodsExcelAddConsumeParcelId(b, b.EndVector(len(t.ConsumeParcelId)))
	GoodsExcelStartConsumeParcelTypeVector(b, len(t.ConsumeParcelType))
	for i := range len(t.ConsumeParcelType) {
		b.PrependInt32(fbsutils.Convert(int32(fbsutils.Convert(t.ConsumeParcelType[len(t.ConsumeParcelType)-i-1], t.FlatBuffer.TableKey)), t.FlatBuffer.TableKey))
	}
	GoodsExcelAddConsumeParcelType(b, b.EndVector(len(t.ConsumeParcelType)))
	GoodsExcelAddIconPath(b, fbsutils.Convert(b.CreateString(t.IconPath), t.FlatBuffer.TableKey))
	GoodsExcelAddId(b, fbsutils.Convert(t.Id, t.FlatBuffer.TableKey))
	GoodsExcelStartParcelAmountVector(b, len(t.ParcelAmount))
	for i := range len(t.ParcelAmount) {
		b.PrependInt64(fbsutils.Convert(t.ParcelAmount[len(t.ParcelAmount)-i-1], t.FlatBuffer.TableKey))
	}
	GoodsExcelAddParcelAmount(b, b.EndVector(len(t.ParcelAmount)))
	GoodsExcelStartParcelIdVector(b, len(t.ParcelId))
	for i := range len(t.ParcelId) {
		b.PrependInt64(fbsutils.Convert(t.ParcelId[len(t.ParcelId)-i-1], t.FlatBuffer.TableKey))
	}
	GoodsExcelAddParcelId(b, b.EndVector(len(t.ParcelId)))
	GoodsExcelStartParcelTypeVector(b, len(t.ParcelType))
	for i := range len(t.ParcelType) {
		b.PrependInt32(fbsutils.Convert(int32(fbsutils.Convert(t.ParcelType[len(t.ParcelType)-i-1], t.FlatBuffer.TableKey)), t.FlatBuffer.TableKey))
	}
	GoodsExcelAddParcelType(b, b.EndVector(len(t.ParcelType)))
	GoodsExcelAddProductIdAos(b, fbsutils.Convert(t.ProductIdAos, t.FlatBuffer.TableKey))
	GoodsExcelAddProductIdiOs(b, fbsutils.Convert(t.ProductIdiOs, t.FlatBuffer.TableKey))
	GoodsExcelAddProductIdOne(b, fbsutils.Convert(t.ProductIdOne, t.FlatBuffer.TableKey))
	GoodsExcelAddProductIdSgs(b, fbsutils.Convert(t.ProductIdSgs, t.FlatBuffer.TableKey))
	GoodsExcelAddRarity(b, fbsutils.Convert(t.Rarity, t.FlatBuffer.TableKey))
	GoodsExcelAddState(b, fbsutils.Convert(t.State, t.FlatBuffer.TableKey))
	GoodsExcelAddType(b, fbsutils.Convert(t.Type, t.FlatBuffer.TableKey))
	return GoodsExcelEnd(b)
}

// Marshal marshals the struct into a FlatBuffers buffer
func (t *GoodsExcelDto) Marshal() ([]byte, error) {
	b := flatbuffers.NewBuilder(0)
	FinishGoodsExcelBuffer(b, t.MarshalModel(b))
	return b.FinishedBytes(), nil
}

// UnmarshalMessage unmarshals the struct from a FlatBuffers buffer
func (t *GoodsExcelDto) UnmarshalMessage(e *GoodsExcel) error {
	if t.FlatBuffer.TableKey == nil {
		t.FlatBuffer.InitKey(fbsutils.CreateTableKey("Goods"))
	}
	t.ConsumeCondition = make([]ConsumeCondition, e.ConsumeConditionLength())
	for i := range e.ConsumeConditionLength() {
		t.ConsumeCondition[i] = e.ConsumeCondition(i)
	}
	t.ConsumeExtraAmount = make([]int64, e.ConsumeExtraAmountLength())
	for i := range e.ConsumeExtraAmountLength() {
		t.ConsumeExtraAmount[i] = e.ConsumeExtraAmount(i)
	}
	t.ConsumeExtraStep = make([]int64, e.ConsumeExtraStepLength())
	for i := range e.ConsumeExtraStepLength() {
		t.ConsumeExtraStep[i] = e.ConsumeExtraStep(i)
	}
	t.ConsumeGachaTicketType = GachaTicketType(int32(fbsutils.Convert(e.ConsumeGachaTicketType(), t.FlatBuffer.TableKey)))
	t.ConsumeGachaTicketTypeAmount = fbsutils.Convert(e.ConsumeGachaTicketTypeAmount(), t.FlatBuffer.TableKey)
	t.ConsumeParcelAmount = make([]int64, e.ConsumeParcelAmountLength())
	for i := range e.ConsumeParcelAmountLength() {
		t.ConsumeParcelAmount[i] = e.ConsumeParcelAmount(i)
	}
	t.ConsumeParcelId = make([]int64, e.ConsumeParcelIdLength())
	for i := range e.ConsumeParcelIdLength() {
		t.ConsumeParcelId[i] = e.ConsumeParcelId(i)
	}
	t.ConsumeParcelType = make([]ParcelType, e.ConsumeParcelTypeLength())
	for i := range e.ConsumeParcelTypeLength() {
		t.ConsumeParcelType[i] = e.ConsumeParcelType(i)
	}
	t.IconPath = fbsutils.Convert(string(e.IconPath()), t.FlatBuffer.TableKey)
	t.Id = fbsutils.Convert(e.Id(), t.FlatBuffer.TableKey)
	t.ParcelAmount = make([]int64, e.ParcelAmountLength())
	for i := range e.ParcelAmountLength() {
		t.ParcelAmount[i] = e.ParcelAmount(i)
	}
	t.ParcelId = make([]int64, e.ParcelIdLength())
	for i := range e.ParcelIdLength() {
		t.ParcelId[i] = e.ParcelId(i)
	}
	t.ParcelType = make([]ParcelType, e.ParcelTypeLength())
	for i := range e.ParcelTypeLength() {
		t.ParcelType[i] = e.ParcelType(i)
	}
	t.ProductIdAos = fbsutils.Convert(e.ProductIdAos(), t.FlatBuffer.TableKey)
	t.ProductIdiOs = fbsutils.Convert(e.ProductIdiOs(), t.FlatBuffer.TableKey)
	t.ProductIdOne = fbsutils.Convert(e.ProductIdOne(), t.FlatBuffer.TableKey)
	t.ProductIdSgs = fbsutils.Convert(e.ProductIdSgs(), t.FlatBuffer.TableKey)
	t.Rarity = Rarity(int32(fbsutils.Convert(e.Rarity(), t.FlatBuffer.TableKey)))
	t.State = fbsutils.Convert(e.State(), t.FlatBuffer.TableKey)
	t.Type = fbsutils.Convert(e.Type(), t.FlatBuffer.TableKey)
	return nil
}

// Unmarshal unmarshals the struct from a FlatBuffers buffer
func (t *GoodsExcelDto) Unmarshal(data []byte) error {
	root := GetRootAsGoodsExcel(data, 0)
	err := t.UnmarshalMessage(root)
	if err != nil {
		return err
	}
	return nil
}

// Name returns the name of the flatbuffer table name
func (GoodsExcelDto) FlatDataName() string {
	return "GoodsExcel"
}
